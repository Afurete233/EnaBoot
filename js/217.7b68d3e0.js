"use strict";(self["webpackChunkgame_info_dynamic"]=self["webpackChunkgame_info_dynamic"]||[]).push([[217],{2217:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(3396),n=a(9242),i=a(7139);const s=["innerHTML"],o=["src"],m=["innerHTML"],r={class:"newsbg"},u=["src"],c=["innerHTML"],d=["href"],p={class:"newsbg"},g=["src"],w=["href"],h=["src"];function _(e,t,a,_,f,y){const b=(0,l.up)("Star"),W=(0,l.up)("el-icon"),H=(0,l.up)("el-button"),k=(0,l.up)("el-countdown"),v=(0,l.up)("el-tooltip"),S=(0,l.up)("el-col"),T=(0,l.up)("el-row"),x=(0,l.up)("el-carousel-item"),D=(0,l.up)("el-carousel"),j=(0,l.up)("el-tab-pane"),I=(0,l.up)("el-tabs"),Y=(0,l.Q2)("infinite-scroll");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(n.W3,{name:"el-fade-in-linear"},{default:(0,l.w5)((()=>["1"==f.type?((0,l.wg)(),(0,l.j4)(T,{id:"news",gutter:20,justify:"end",key:"action1"},{default:(0,l.w5)((()=>[(0,l.Wm)(n.W3,{name:"el-fade-in-linear"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.data,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.j4)(S,{lg:12,md:21,xl:12,xs:24,sm:24,key:t,":key":t,class:"mb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{placement:"auto",effect:"light"},{content:(0,l.w5)((()=>[(0,l._)("span",{innerHTML:e.content.replaceAll("miHoYoGameJSSDK.openInBrowser","window.open").replaceAll("miHoYoGameJSSDK.openInWebview","window.open")},null,8,s)])),default:(0,l.w5)((()=>[(0,l.Wm)(k,{value:y.getTime(t),prefix:"还有:"},{title:(0,l.w5)((()=>[(0,l._)("img",{src:e.banner},null,8,o),(0,l.Wm)(H,{class:"addto",type:"danger",onClick:a=>{y.addtoHome(e,t)},circle:""},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:2},1032,["onClick"]),(0,l._)("span",null,(0,i.zw)(e.title),1)])),_:2},1032,["value"])])),_:2},1024)])),_:2},1032,[":key"])),[[n.F8,y.isnotime(t)]]))),128))])),_:1}),(0,l.Wm)(S,{span:24,style:{height:"120px"}})])),_:1})):(0,l.kq)("",!0),"2"==f.type?((0,l.wg)(),(0,l.j4)(T,{id:"news",gutter:20,justify:"end",key:"action2"},{default:(0,l.w5)((()=>[(0,l.Wm)(n.W3,{name:"el-fade-in-linear"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.data,((e,t)=>((0,l.wg)(),(0,l.j4)(S,{lg:12,md:21,xl:12,xs:24,sm:24,key:t,":key":t,class:"mb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{placement:"auto",effect:"light"},{content:(0,l.w5)((()=>[(0,l._)("span",{innerHTML:e.content.replaceAll("miHoYoGameJSSDK.openInBrowser","window.open").replaceAll("miHoYoGameJSSDK.openInWebview","window.open")},null,8,m)])),default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("img",{src:e.banner},null,8,u),(0,l.Wm)(H,{class:"addto",type:"danger",onClick:a=>{y.addtoHome(e,t)},circle:""},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:2},1032,["onClick"]),(0,l._)("span",null,(0,i.zw)(e.title),1)])])),_:2},1024)])),_:2},1032,[":key"])))),128))])),_:1}),(0,l.Wm)(S,{span:24,style:{height:"120px"}})])),_:1})):(0,l.kq)("",!0),"3"==f.type?(0,l.wy)(((0,l.wg)(),(0,l.j4)(T,{id:"news",gutter:20,justify:"end",key:"action3"},{default:(0,l.w5)((()=>[(0,l.Wm)(n.W3,{name:"el-fade-in-linear"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.recommended_posts,((e,t)=>((0,l.wg)(),(0,l.j4)(S,{lg:12,md:21,xl:12,xs:24,sm:24,key:t,":key":t,class:"mb-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{placement:"auto",effect:"light"},{content:(0,l.w5)((()=>[(0,l._)("span",{innerHTML:e.post.content},null,8,c),(0,l._)("p",null,[(0,l._)("b",null,[(0,l._)("a",{href:"https://www.miyoushe.com/"+f.game+"/article/"+e.post.post_id,target:"_blank"}," 前往页面",8,d)])])])),default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("img",{src:e.image_list.length>0?e.image_list[0].url:e.post.cover},null,8,g),(0,l.Wm)(H,{class:"addto",type:"danger",onClick:a=>{y.addtoHome(e,t)},circle:""},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:2},1032,["onClick"]),(0,l._)("span",null,(0,i.zw)(e.post.subject),1)])])),_:2},1024)])),_:2},1032,[":key"])))),128))])),_:1}),(0,l.Wm)(S,{span:24,style:{height:"120px"}})])),_:1})),[[Y,y.getinfo]]):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(T,{id:"banner"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,{trigger:"click",height:"180px"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.carousels,(e=>((0,l.wg)(),(0,l.j4)(x,{key:e},{default:(0,l.w5)((()=>[(0,l._)("a",{target:"_blank",href:"https://www.miyoushe.com/"+this.game+e.path},[(0,l._)("img",{src:e.cover},null,8,h)],8,w)])),_:2},1024)))),128))])),_:1})])),_:1}),(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I,{modelValue:f.type,"onUpdate:modelValue":t[0]||(t[0]=e=>f.type=e),class:"h-0 mt-3 p-0",stretch:""},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{label:"活动",name:"1"}),(0,l.Wm)(j,{label:"全部",name:"2"}),(0,l.Wm)(j,{label:"资讯",name:"3"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var f=a(2748),y=a(4161),b=a(2390),W={name:"GameInfoDynamicmiHoYo",watch:{"$route.params.game":function(){this.getwebHome()}},DefaultConfig:b.Z,Star:f.Star,data(){return{mihoyourl:b.Z.mihoyourl,data:[],type:"1",value2:new Date("2023/10/10 14:59").getTime(),game:this.$route.params.game,carousels:[],dataurl:"",recommended_posts:[],pagenum:1}},updated(){},mounted(){this.getwebHome(),this.getactivity()},methods:{getwebHome(){var e=this;y.Z.get("https://bbs-api-static.miyoushe.com/apihub/wapi/webHome?gids="+this.gametoid()+"&page="+this.pagenum+"&page_size=8").then((t=>{e.carousels=t.data.data.carousels,e.recommended_posts=t.data.data.recommended_posts}))},getinfo(){var e=this;this.pagenum+=1,y.Z.get("https://bbs-api-static.miyoushe.com/apihub/wapi/webHome?gids="+this.gametoid()+"&page="+this.pagenum+"&page_size=8").then((t=>{e.recommended_posts=e.recommended_posts.concat(t.data.data.recommended_posts)}))},getactivity(){var e=this;""!=this.dataurl&&y.Z.get(this.dataurl).then((t=>{e.data=t.data.data.list}))},isnotime(e){var t=document.createElement("div");if(t.innerHTML=this.data[e].content,"1"==this.type)if(null!=t.innerText.split('<t class="t_lc">')[2]){if(null!=t.innerText.split('<t class="t_lc">')[2].split("</t>")[0]&&new Date(t.innerText.split('<t class="t_lc">')[2].split("</t>")[0])>new Date)return!0}else if(t.innerText.split('<t class="t_lc">').length>1)return!0;return"2"==this.type},getTime(e){var t=document.createElement("div");return t.innerHTML=this.data[e].content,null!=t.innerText.split('<t class="t_lc">')[2]?new Date(t.innerText.split('<t class="t_lc">')[2].split("</t>")[0]).getTime():t.innerText.split('<t class="t_lc">').length>1?new Date(t.innerText.split('<t class="t_lc">')[1].split("</t>")[0]).getTime():0},addtoHome(e,t){if("2"!=this.type&&"1"!=this.type||(e.content=e.content.replaceAll("miHoYoGameJSSDK.openInBrowser","window.open").replaceAll("miHoYoGameJSSDK.openInWebview","window.open")),e.local={countdown:"1"==this.type?this.getTime(t):null,game:this.game,type:this.type},null!=localStorage.getItem("Homedata")){var a=JSON.parse(localStorage.getItem("Homedata"));a=a.concat(e),localStorage.setItem("Homedata",JSON.stringify(a))}else{var l=[];l=l.concat(e),localStorage.setItem("Homedata",JSON.stringify(l))}this.$notify.success({message:"添加到主页成功",position:"top-left",duration:1e3,showClose:!1})},gametoid(){return"sr"==this.game?(this.dataurl=this.mihoyourl.sr,6):"ys"==this.game?(this.dataurl=this.mihoyourl.ys,2):"bh2"==this.game?(this.type="3",3):"zzz"==this.game?(this.type="3",8):"bh3"==this.game?("3"!=this.type&&(this.type="2"),this.dataurl=this.mihoyourl.bh3,1):void 0}}},H=a(89);const k=(0,H.Z)(W,[["render",_]]);var v=k}}]);
//# sourceMappingURL=217.7b68d3e0.js.map